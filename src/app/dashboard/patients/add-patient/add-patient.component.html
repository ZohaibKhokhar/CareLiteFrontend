<div class="add-patient-container">
  <div class="form-card">
    <h2>
      @if(isEditMode) {
        Update Patient
      } @else {
        Add Patient
      }
    </h2>

    <form [formGroup]="patientForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label for="patientName">Name:</label>
        <input id="patientName" formControlName="patientName" type="text" />
        @if(patientForm.get('patientName')?.touched && patientForm.get('patientName')?.invalid) {
          <div class="error">
            Name is required and must be less than 100 characters.
          </div>
        }
      </div>

      <div class="form-group">
        <label for="patientAddress">Address:</label>
        <textarea id="patientAddress" formControlName="patientAddress"></textarea>
      </div>

      <div class="form-group">
        <label for="dateOfBirth">Date of Birth:</label>
        <input id="dateOfBirth" formControlName="dateOfBirth" type="date" />
      </div>

      <div class="form-group">
        <label for="gender">Gender:</label>
        <select id="gender" formControlName="gender">
        @for(gender of genders; track gender){
            <option [value]="gender">{{gender}}</option>
        }
    

      </select>
      </div>

      <div class="form-group">
        <label for="phoneNumber">Phone Number:</label>
        <input id="phoneNumber" formControlName="phoneNumber" type="text" />
      </div>

      <div class="form-group">
        <label for="email">Email:</label>
        <input id="email" formControlName="email" type="email" />
      </div>

      <div class="form-actions">
        <button type="submit" [disabled]="patientForm.invalid">
          @if(isEditMode) {
            Update
          } @else {
            Add
          }
        </button>
        <button type="button" (click)="navigateBack()">Cancel</button>
      </div>

    </form>
  </div>
</div>
